import{i as Pe,aX as Re,Q as he,aY as Ve,aO as ge,aZ as pe,a_ as ye,P as ze,r as C,K as L,ai as j,ap as Ce,as as De,aq as Fe,a8 as Ke,a2 as e,af as Ue,I as Ie,$ as Z,Y as _e,aI as Ge,o as A,c as z,a0 as ce,w as Q,a$ as q,b as H,n as P,aK as X,a as Y,a3 as ve,b0 as We,b1 as J,b2 as fe,a5 as U,b3 as je,a1 as be,ax as we,F as Xe,d as Ye,t as qe,a7 as Se,J as Je,a9 as Qe,b4 as Ze,b5 as xe,ab as et,ac as tt}from"./index-DPj3--sN.js";var at="Expected a function";function de(n,s,o){var a=!0,I=!0;if(typeof n!="function")throw new TypeError(at);return Pe(o)&&(a="leading"in o?!!o.leading:a,I="trailing"in o?!!o.trailing:I),Re(n,s,{leading:a,maxWait:s,trailing:I})}const nt=he({initialIndex:{type:Number,default:0},height:{type:String,default:""},trigger:{type:String,values:["hover","click"],default:"hover"},autoplay:{type:Boolean,default:!0},interval:{type:Number,default:3e3},indicatorPosition:{type:String,values:["","none","outside"],default:""},arrow:{type:String,values:["always","hover","never"],default:"hover"},type:{type:String,values:["","card"],default:""},cardScale:{type:Number,default:.83},loop:{type:Boolean,default:!0},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},pauseOnHover:{type:Boolean,default:!0},motionBlur:Boolean}),lt={change:(n,s)=>[n,s].every(Ve)},Te=Symbol("carouselContextKey"),le="ElCarouselItem",st=(n,s,o)=>pe(n.subTree).filter(i=>{var f;return ye(i)&&((f=i.type)==null?void 0:f.name)===s&&!!i.component}).map(i=>i.component.uid).map(i=>o[i]).filter(i=>!!i),ot=(n,s)=>{const o={},a=ge([]);return{children:a,addChild:f=>{o[f.uid]=f,a.value=st(n,s,o)},removeChild:f=>{delete o[f],a.value=a.value.filter(l=>l.uid!==f)}}},me=300,rt=(n,s,o)=>{const{children:a,addChild:I,removeChild:i}=ot(Ie(),le),f=ze(),l=C(-1),_=C(null),S=C(!1),m=C(),E=C(0),w=C(!0),h=C(!0),b=C(!1),D=L(()=>n.arrow!=="never"&&!e(k)),R=L(()=>a.value.some(t=>t.props.label.toString().length>0)),$=L(()=>n.type==="card"),k=L(()=>n.direction==="vertical"),r=L(()=>n.height!=="auto"?{height:n.height}:{height:`${E.value}px`,overflow:"hidden"}),u=de(t=>{N(t)},me,{trailing:!0}),g=de(t=>{V(t)},me),p=t=>w.value?l.value<=1?t<=1:t>1:!0;function y(){_.value&&(clearInterval(_.value),_.value=null)}function M(){n.interval<=0||!n.autoplay||_.value||(_.value=setInterval(()=>T(),n.interval))}const T=()=>{h.value||(b.value=!0),h.value=!1,l.value<a.value.length-1?l.value=l.value+1:n.loop?l.value=0:b.value=!1};function N(t){if(h.value||(b.value=!0),h.value=!1,Ue(t)){const O=a.value.filter(K=>K.props.name===t);O.length>0&&(t=a.value.indexOf(O[0]))}if(t=Number(t),Number.isNaN(t)||t!==Math.floor(t))return;const v=a.value.length,B=l.value;t<0?l.value=n.loop?v-1:0:t>=v?l.value=n.loop?0:v-1:l.value=t,B===l.value&&c(B),oe()}function c(t){a.value.forEach((v,B)=>{v.translateItem(B,l.value,t)})}function G(t,v){var B,O,K,re;const W=e(a),ie=W.length;if(ie===0||!t.states.inStage)return!1;const $e=v+1,Be=v-1,ue=ie-1,Ae=W[ue].states.active,Le=W[0].states.active,Oe=(O=(B=W[$e])==null?void 0:B.states)==null?void 0:O.active,He=(re=(K=W[Be])==null?void 0:K.states)==null?void 0:re.active;return v===ue&&Le||Oe?"left":v===0&&Ae||He?"right":!1}function x(){S.value=!0,n.pauseOnHover&&y()}function ee(){S.value=!1,M()}function te(){b.value=!1}function d(t){e(k)||a.value.forEach((v,B)=>{t===G(v,B)&&(v.states.hover=!0)})}function se(){e(k)||a.value.forEach(t=>{t.states.hover=!1})}function F(t){t!==l.value&&(h.value||(b.value=!0)),l.value=t}function V(t){n.trigger==="hover"&&t!==l.value&&(l.value=t,h.value||(b.value=!0))}function ae(){N(l.value-1)}function ke(){N(l.value+1)}function oe(){y(),n.pauseOnHover||M()}function Me(t){n.height==="auto"&&(E.value=t)}function Ne(){var t;const v=(t=f.default)==null?void 0:t.call(f);if(!v)return null;const O=pe(v).filter(K=>ye(K)&&K.type.name===le);return(O==null?void 0:O.length)===2&&n.loop&&!$.value?(w.value=!0,O):(w.value=!1,null)}j(()=>l.value,(t,v)=>{c(v),w.value&&(t=t%2,v=v%2),v>-1&&s("change",t,v)}),j(()=>n.autoplay,t=>{t?M():y()}),j(()=>n.loop,()=>{N(l.value)}),j(()=>n.interval,()=>{oe()});const ne=ge();return Ce(()=>{j(()=>a.value,()=>{a.value.length>0&&N(n.initialIndex)},{immediate:!0}),ne.value=De(m.value,()=>{c()}),M()}),Fe(()=>{y(),m.value&&ne.value&&ne.value.stop()}),Ke(Te,{root:m,isCardType:$,isVertical:k,items:a,loop:n.loop,cardScale:n.cardScale,addItem:I,removeItem:i,setActiveItem:N,setContainerHeight:Me}),{root:m,activeIndex:l,arrowDisplay:D,hasLabel:R,hover:S,isCardType:$,isTransitioning:b,items:a,isVertical:k,containerStyle:r,isItemsTwoLength:w,handleButtonEnter:d,handleTransitionEnd:te,handleButtonLeave:se,handleIndicatorClick:F,handleMouseEnter:x,handleMouseLeave:ee,setActiveItem:N,prev:ae,next:ke,PlaceholderItem:Ne,isTwoLengthShow:p,throttledArrowClick:u,throttledIndicatorHover:g}},it="ElCarousel",ut=Z({name:it}),ct=Z({...ut,props:nt,emits:lt,setup(n,{expose:s,emit:o}){const a=n,{root:I,activeIndex:i,arrowDisplay:f,hasLabel:l,hover:_,isCardType:S,items:m,isVertical:E,containerStyle:w,handleButtonEnter:h,handleButtonLeave:b,isTransitioning:D,handleIndicatorClick:R,handleMouseEnter:$,handleMouseLeave:k,handleTransitionEnd:r,setActiveItem:u,prev:g,next:p,PlaceholderItem:y,isTwoLengthShow:M,throttledArrowClick:T,throttledIndicatorHover:N}=rt(a,o),c=_e("carousel"),{t:G}=Ge(),x=L(()=>{const d=[c.b(),c.m(a.direction)];return e(S)&&d.push(c.m("card")),d}),ee=L(()=>{const d=[c.e("container")];return a.motionBlur&&e(D)&&m.value.length>1&&d.push(e(E)?`${c.namespace.value}-transitioning-vertical`:`${c.namespace.value}-transitioning`),d}),te=L(()=>{const d=[c.e("indicators"),c.em("indicators",a.direction)];return e(l)&&d.push(c.em("indicators","labels")),a.indicatorPosition==="outside"&&d.push(c.em("indicators","outside")),e(E)&&d.push(c.em("indicators","right")),d});return s({activeIndex:i,setActiveItem:u,prev:g,next:p}),(d,se)=>(A(),z("div",{ref_key:"root",ref:I,class:P(e(x)),onMouseenter:X(e($),["stop"]),onMouseleave:X(e(k),["stop"])},[e(f)?(A(),ce(fe,{key:0,name:"carousel-arrow-left",persisted:""},{default:Q(()=>[q(H("button",{type:"button",class:P([e(c).e("arrow"),e(c).em("arrow","left")]),"aria-label":e(G)("el.carousel.leftArrow"),onMouseenter:F=>e(h)("left"),onMouseleave:e(b),onClick:X(F=>e(T)(e(i)-1),["stop"])},[Y(e(ve),null,{default:Q(()=>[Y(e(We))]),_:1})],42,["aria-label","onMouseenter","onMouseleave","onClick"]),[[J,(d.arrow==="always"||e(_))&&(a.loop||e(i)>0)]])]),_:1})):U("v-if",!0),e(f)?(A(),ce(fe,{key:1,name:"carousel-arrow-right",persisted:""},{default:Q(()=>[q(H("button",{type:"button",class:P([e(c).e("arrow"),e(c).em("arrow","right")]),"aria-label":e(G)("el.carousel.rightArrow"),onMouseenter:F=>e(h)("right"),onMouseleave:e(b),onClick:X(F=>e(T)(e(i)+1),["stop"])},[Y(e(ve),null,{default:Q(()=>[Y(e(je))]),_:1})],42,["aria-label","onMouseenter","onMouseleave","onClick"]),[[J,(d.arrow==="always"||e(_))&&(a.loop||e(i)<e(m).length-1)]])]),_:1})):U("v-if",!0),H("div",{class:P(e(ee)),style:we(e(w)),onTransitionend:e(r)},[Y(e(y)),be(d.$slots,"default")],46,["onTransitionend"]),d.indicatorPosition!=="none"?(A(),z("ul",{key:2,class:P(e(te))},[(A(!0),z(Xe,null,Ye(e(m),(F,V)=>q((A(),z("li",{key:V,class:P([e(c).e("indicator"),e(c).em("indicator",d.direction),e(c).is("active",V===e(i))]),onMouseenter:ae=>e(N)(V),onClick:X(ae=>e(R)(V),["stop"])},[H("button",{class:P(e(c).e("button")),"aria-label":e(G)("el.carousel.indicator",{index:V+1})},[e(l)?(A(),z("span",{key:0},qe(F.props.label),1)):U("v-if",!0)],10,["aria-label"])],42,["onMouseenter","onClick"])),[[J,e(M)(V)]])),128))],2)):U("v-if",!0),a.motionBlur?(A(),z("svg",{key:3,xmlns:"http://www.w3.org/2000/svg",version:"1.1",style:{display:"none"}},[H("defs",null,[H("filter",{id:"elCarouselHorizontal"},[H("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"12,0"})]),H("filter",{id:"elCarouselVertical"},[H("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"0,10"})])])])):U("v-if",!0)],42,["onMouseenter","onMouseleave"]))}});var vt=Se(ct,[["__file","carousel.vue"]]);const ft=he({name:{type:String,default:""},label:{type:[String,Number],default:""}}),dt=n=>{const s=Je(Te),o=Ie(),a=C(),I=C(!1),i=C(0),f=C(1),l=C(!1),_=C(!1),S=C(!1),m=C(!1),{isCardType:E,isVertical:w,cardScale:h}=s;function b(r,u,g){const p=g-1,y=u-1,M=u+1,T=g/2;return u===0&&r===p?-1:u===p&&r===0?g:r<y&&u-r>=T?g+1:r>M&&r-u>=T?-2:r}function D(r,u){var g,p;const y=e(w)?((g=s.root.value)==null?void 0:g.offsetHeight)||0:((p=s.root.value)==null?void 0:p.offsetWidth)||0;return S.value?y*((2-h)*(r-u)+1)/4:r<u?-(1+h)*y/4:(3+h)*y/4}function R(r,u,g){const p=s.root.value;return p?((g?p.offsetHeight:p.offsetWidth)||0)*(r-u):0}const $=(r,u,g)=>{var p;const y=e(E),M=(p=s.items.value.length)!=null?p:Number.NaN,T=r===u;!y&&!xe(g)&&(m.value=T||r===g),!T&&M>2&&s.loop&&(r=b(r,u,M));const N=e(w);l.value=T,y?(S.value=Math.round(Math.abs(r-u))<=1,i.value=D(r,u),f.value=e(l)?1:h):i.value=R(r,u,N),_.value=!0,T&&a.value&&s.setContainerHeight(a.value.offsetHeight)};function k(){if(s&&e(E)){const r=s.items.value.findIndex(({uid:u})=>u===o.uid);s.setActiveItem(r)}}return Ce(()=>{s.addItem({props:n,states:Qe({hover:I,translate:i,scale:f,active:l,ready:_,inStage:S,animating:m}),uid:o.uid,translateItem:$})}),Ze(()=>{s.removeItem(o.uid)}),{carouselItemRef:a,active:l,animating:m,hover:I,inStage:S,isVertical:w,translate:i,isCardType:E,scale:f,ready:_,handleItemClick:k}},mt=Z({name:le}),ht=Z({...mt,props:ft,setup(n){const s=n,o=_e("carousel"),{carouselItemRef:a,active:I,animating:i,hover:f,inStage:l,isVertical:_,translate:S,isCardType:m,scale:E,ready:w,handleItemClick:h}=dt(s),b=L(()=>[o.e("item"),o.is("active",I.value),o.is("in-stage",l.value),o.is("hover",f.value),o.is("animating",i.value),{[o.em("item","card")]:m.value,[o.em("item","card-vertical")]:m.value&&_.value}]),D=L(()=>{const $=`${`translate${e(_)?"Y":"X"}`}(${e(S)}px)`,k=`scale(${e(E)})`;return{transform:[$,k].join(" ")}});return(R,$)=>q((A(),z("div",{ref_key:"carouselItemRef",ref:a,class:P(e(b)),style:we(e(D)),onClick:e(h)},[e(m)?q((A(),z("div",{key:0,class:P(e(o).e("mask"))},null,2)),[[J,!e(I)]]):U("v-if",!0),be(R.$slots,"default")],14,["onClick"])),[[J,e(w)]])}});var Ee=Se(ht,[["__file","carousel-item.vue"]]);const pt=et(vt,{CarouselItem:Ee}),yt=tt(Ee);export{pt as E,yt as a};
